<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>MARGA2HIGH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0 }
    body {
      font-family: Inter, sans-serif;
      background: #000;
      color: #fff;
      line-height: 1.5;
    }

    a { color: inherit; text-decoration: none }
    button { cursor: pointer; border: none }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 0 24px;
    }

    /* HEADER */
    header {
      position: sticky;
      top: 0;
      background: rgba(0,0,0,.95);
      border-bottom: 1px solid #111;
      z-index: 50;
    }
    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 0;
    }
    .logo {
      font-weight: 800;
      font-size: 20px;
      letter-spacing: 1px;
      cursor: pointer;
    }
    .nav {
      display: flex;
      gap: 24px;
      align-items: center;
    }
    .btn {
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 600;
      transition: .2s;
    }
    .btn-red {
      background: #dc2626;
      color: #fff;
    }
    .btn-red:hover {
      background: #b91c1c;
    }
    .btn-dark {
      background: #111;
      color: #fff;
    }
    .btn-dark:hover {
      background: #1a1a1a;
    }
    .btn-cyan {
      background: #06b6d4;
      color: #fff;
    }
    .btn-cyan:hover {
      background: #0891b2;
    }

    /* CART ICON */
    .cart-icon {
      position: relative;
      cursor: pointer;
      padding: 8px;
    }
    .cart-badge {
      position: absolute;
      top: 2px;
      right: 2px;
      background: #dc2626;
      color: #fff;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
    }

    .user-menu {
      position: relative;
    }
    .user-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: #dc2626;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      cursor: pointer;
    }
    .user-dropdown {
      position: absolute;
      top: 50px;
      right: 0;
      background: #111;
      border: 1px solid #1a1a1a;
      border-radius: 12px;
      padding: 8px;
      min-width: 180px;
      display: none;
    }
    .user-dropdown.active {
      display: block;
    }
    .user-dropdown-item {
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: .2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .user-dropdown-item:hover {
      background: #1a1a1a;
    }

    /* SEARCH BAR */
    .search-bar {
      background: #111;
      border: 1px solid #1a1a1a;
      border-radius: 8px;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      max-width: 300px;
    }
    .search-bar input {
      background: transparent;
      border: none;
      color: #fff;
      outline: none;
      width: 100%;
      font-size: 14px;
    }
    .search-bar input::placeholder {
      color: #666;
    }

    /* HERO */
    .hero {
      padding: 60px 0 40px;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a0505 50%, #0a0a0a 100%);
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 30% 50%, rgba(220, 38, 38, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }
    .hero-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
      position: relative;
      z-index: 1;
    }
    .hero-text h1 {
      font-size: 64px;
      font-weight: 900;
      margin-bottom: 16px;
      line-height: 1.1;
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer 3s infinite;
    }
    @keyframes shimmer {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .hero-text p {
      color: #aaa;
      font-size: 18px;
      margin-bottom: 28px;
      max-width: 500px;
    }
    .hero-buttons {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
    }
    .hero-banner {
      position: relative;
      border-radius: 20px;
      overflow: hidden;
      background: linear-gradient(135deg, #7f1d1d 0%, #dc2626 50%, #991b1b 100%);
      padding: 60px 40px;
      border: 2px solid rgba(220, 38, 38, 0.3);
      box-shadow: 0 20px 60px rgba(220, 38, 38, 0.3);
    }
    .banner-content {
      position: relative;
      z-index: 2;
    }
    .banner-tag {
      font-size: 14px;
      color: #fca5a5;
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .banner-title {
      font-size: 52px;
      font-weight: 900;
      margin-bottom: 12px;
      line-height: 1.1;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    .banner-title span {
      background: linear-gradient(135deg, #fff 0%, #fca5a5 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .banner-subtitle {
      font-size: 16px;
      color: #fca5a5;
      line-height: 1.6;
      max-width: 400px;
    }
    .banner-image {
      position: absolute;
      right: -50px;
      top: 50%;
      transform: translateY(-50%);
      width: 400px;
      height: 400px;
      pointer-events: none;
      filter: drop-shadow(0 0 30px rgba(220, 38, 38, 0.5));
    }
    .banner-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .trust-badge {
      font-size: 14px;
      color: #aaa;
    }
    .trust-badge strong {
      color: #dc2626;
    }

    /* FEATURES */
    .features {
      display: grid;
      grid-template-columns: repeat(4,1fr);
      gap: 16px;
      padding: 60px 0;
    }
    .feature {
      background: #0d0d0d;
      border: 1px solid #1a1a1a;
      border-radius: 14px;
      padding: 20px;
    }
    .feature h3 {
      font-size: 14px;
      margin-bottom: 6px;
    }
    .feature p {
      font-size: 12px;
      color: #777;
    }

    /* WHY CHOOSE SECTION */
    .why-choose {
      padding: 80px 0;
      background: #000;
    }
    .why-choose-header {
      text-align: center;
      margin-bottom: 60px;
    }
    .why-choose-header h2 {
      font-size: 48px;
      font-weight: 900;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      background-size: 200% auto;
    }
    .why-choose-header p {
      color: #777;
      font-size: 16px;
    }
    .why-choose-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
    }
    .why-card {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 20px;
      padding: 40px 32px;
      transition: .3s;
      position: relative;
      overflow: hidden;
    }
    .why-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #dc2626, #ef4444);
      opacity: 0;
      transition: .3s;
    }
    .why-card:hover {
      border-color: #dc2626;
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(220, 38, 38, 0.2);
    }
    .why-card:hover::before {
      opacity: 1;
    }
    .why-icon {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      background: rgba(220, 38, 38, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      margin-bottom: 24px;
      border: 2px solid rgba(220, 38, 38, 0.3);
    }
    .why-card h3 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    .why-card p {
      color: #aaa;
      line-height: 1.7;
      margin-bottom: 20px;
    }
    .why-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .why-tag {
      background: #111;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      color: #dc2626;
      border: 1px solid #1a1a1a;
    }

    /* FAQ SECTION */
    .faq {
      padding: 80px 0;
      background: #000;
    }
    .faq-header {
      text-align: center;
      margin-bottom: 60px;
    }
    .faq-header h2 {
      font-size: 48px;
      font-weight: 900;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .faq-header p {
      color: #777;
      font-size: 16px;
    }
    .faq-container {
      max-width: 800px;
      margin: 0 auto;
    }
    .faq-item {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 12px;
      margin-bottom: 16px;
      overflow: hidden;
      transition: .3s;
    }
    .faq-item:hover {
      border-color: #dc2626;
    }
    .faq-question {
      padding: 20px 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 16px;
      user-select: none;
    }
    .faq-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: rgba(220, 38, 38, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }
    .faq-question-text {
      flex: 1;
      font-weight: 600;
      font-size: 16px;
    }
    .faq-toggle {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #777;
      transition: .3s;
      font-size: 20px;
    }
    .faq-item.active .faq-toggle {
      transform: rotate(180deg);
      color: #dc2626;
    }
    .faq-answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    .faq-item.active .faq-answer {
      max-height: 500px;
    }
    .faq-answer-content {
      padding: 0 24px 20px 80px;
      color: #aaa;
      line-height: 1.7;
    }
    .faq-cta {
      text-align: center;
      margin-top: 40px;
      padding: 30px;
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 16px;
    }
    .faq-cta p {
      color: #aaa;
      margin-bottom: 16px;
    }
    .faq-cta a {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: #dc2626;
      color: #fff;
      border-radius: 8px;
      font-weight: 600;
      transition: .2s;
      text-decoration: none;
    }
    .faq-cta a:hover {
      background: #b91c1c;
      transform: translateY(-2px);
    }

    /* ADMIN PANEL */
    .admin-panel {
      padding: 80px 0;
      min-height: 80vh;
    }
    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 2px solid #1a1a1a;
    }
    .admin-title {
      font-size: 32px;
      font-weight: 900;
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .admin-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }
    .stat-card {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 16px;
      padding: 24px;
      text-align: center;
    }
    .stat-value {
      font-size: 36px;
      font-weight: 900;
      margin-bottom: 8px;
    }
    .stat-value.waiting {
      color: #fbbf24;
    }
    .stat-value.done {
      color: #22c55e;
    }
    .stat-value.declined {
      color: #dc2626;
    }
    .stat-value.total {
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .stat-label {
      color: #777;
      font-size: 14px;
      font-weight: 600;
    }
    .admin-orders-grid {
      display: grid;
      gap: 24px;
    }
    .admin-order-card {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 18px;
      padding: 24px;
      display: grid;
      grid-template-columns: 1fr 1fr 300px;
      gap: 24px;
      align-items: start;
    }
    .admin-order-card.waiting {
      border-color: rgba(251, 191, 36, 0.3);
      background: rgba(251, 191, 36, 0.05);
    }
    .admin-order-info h3 {
      font-size: 18px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .admin-order-detail {
      font-size: 14px;
      color: #aaa;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .admin-order-detail strong {
      color: #fff;
    }
    .payment-proof {
      border: 1px solid #1a1a1a;
      border-radius: 12px;
      overflow: hidden;
      max-width: 300px;
    }
    .payment-proof img {
      width: 100%;
      height: auto;
      display: block;
    }
    .proof-placeholder {
      padding: 60px 20px;
      text-align: center;
      color: #666;
      background: #111;
    }
    .admin-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .license-input {
      width: 100%;
      background: #111;
      border: 1px solid #1a1a1a;
      color: #fff;
      padding: 12px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-family: monospace;
      outline: none;
    }
    .license-input:focus {
      border-color: #dc2626;
    }
    .admin-btn {
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: .2s;
      border: none;
    }
    .admin-btn-approve {
      background: #22c55e;
      color: #fff;
    }
    .admin-btn-approve:hover {
      background: #16a34a;
    }
    .admin-btn-decline {
      background: #dc2626;
      color: #fff;
    }
    .admin-btn-decline:hover {
      background: #b91c1c;
    }
    .admin-btn-view {
      background: #111;
      color: #fff;
      border: 1px solid #1a1a1a;
    }
    .admin-btn-view:hover {
      background: #1a1a1a;
    }
    .admin-filter {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }
    .filter-btn {
      padding: 10px 20px;
      background: #111;
      border: 1px solid #1a1a1a;
      border-radius: 8px;
      color: #aaa;
      cursor: pointer;
      transition: .2s;
      font-weight: 600;
    }
    .filter-btn.active {
      background: #dc2626;
      color: #fff;
      border-color: #dc2626;
    }
    .filter-btn:hover {
      border-color: #dc2626;
    }

    /* PRODUCTS */
    .products {
      padding: 70px 0;
    }
    .products h2 {
      background: linear-gradient(135deg, #dc2626 0%, #fff 50%, #dc2626 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 900;
    }
    .products-grid {
      display: grid;
      grid-template-columns: repeat(3,1fr);
      gap: 24px;
    }
    .product {
      background: #0c0c0c;
      border: 1px solid #1a1a1a;
      border-radius: 18px;
      overflow: hidden;
      transition: .2s;
      cursor: pointer;
    }
    .product:hover {
      transform: translateY(-4px);
      border-color: #dc2626;
      box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
    }
    .product img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      opacity: .8;
    }
    .product-body {
      padding: 18px;
    }
    .product h4 {
      font-size: 16px;
      margin-bottom: 8px;
    }
    .price {
      color: #dc2626;
      font-weight: 800;
      font-size: 20px;
    }

    /* MODAL */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,.9);
      z-index: 100;
      overflow-y: auto;
      padding: 40px 20px;
    }
    .modal.active {
      display: block;
    }
    .modal-content {
      max-width: 1200px;
      margin: auto;
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 20px;
      overflow: hidden;
    }
    .modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #111;
      color: #fff;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 101;
    }

    /* AUTH MODAL */
    .auth-modal-content {
      max-width: 450px;
      margin: 100px auto;
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 20px;
      padding: 40px;
    }
    .auth-title {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 8px;
      text-align: center;
    }
    .auth-subtitle {
      text-align: center;
      color: #777;
      margin-bottom: 32px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      color: #aaa;
    }
    .form-input {
      width: 100%;
      background: #111;
      border: 1px solid #1a1a1a;
      color: #fff;
      padding: 12px 16px;
      border-radius: 8px;
      outline: none;
      font-size: 14px;
    }
    .form-input:focus {
      border-color: #06b6d4;
    }
    .form-btn {
      width: 100%;
      padding: 14px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 16px;
      margin-top: 8px;
    }
    .auth-switch {
      text-align: center;
      margin-top: 20px;
      color: #777;
      font-size: 14px;
    }
    .auth-switch a {
      color: #06b6d4;
      cursor: pointer;
    }
    .auth-switch a:hover {
      text-decoration: underline;
    }

    /* DASHBOARD */
    .dashboard {
      padding: 80px 0;
      min-height: 80vh;
    }
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }
    .dashboard-title {
      font-size: 32px;
      font-weight: 800;
    }
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 24px;
    }
    .order-card {
      background: #0c0c0c;
      border: 1px solid #1a1a1a;
      border-radius: 18px;
      padding: 24px;
    }
    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }
    .order-id {
      font-size: 12px;
      color: #666;
    }
    .order-status {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    .status-waiting {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    .status-done {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    .status-declined {
      background: rgba(220, 38, 38, 0.2);
      color: #dc2626;
    }
    .order-product {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .order-variant {
      color: #777;
      font-size: 14px;
      margin-bottom: 16px;
    }
    .order-price {
      color: #06b6d4;
      font-size: 20px;
      font-weight: 800;
      margin-bottom: 16px;
    }
    .order-license {
      background: #111;
      border: 1px solid #1a1a1a;
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
      word-break: break-all;
      font-family: monospace;
      font-size: 14px;
    }
    .license-label {
      color: #777;
      font-size: 12px;
      margin-bottom: 8px;
    }
    .copy-btn {
      background: #111;
      color: #fff;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 12px;
      margin-top: 8px;
    }

    /* PRODUCT DETAIL */
    .product-detail {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      padding: 40px;
    }
    .showcase {
      position: relative;
    }
    .showcase-main {
      width: 100%;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 16px;
    }
    .showcase-main img {
      width: 100%;
      height: 400px;
      object-fit: cover;
    }
    .showcase-thumbs {
      display: flex;
      gap: 12px;
    }
    .showcase-thumb {
      width: 80px;
      height: 80px;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      border: 2px solid transparent;
      transition: .2s;
    }
    .showcase-thumb:hover,
    .showcase-thumb.active {
      border-color: #dc2626;
    }
    .showcase-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .detail-info {
      padding: 20px 0;
    }
    .breadcrumb {
      color: #666;
      font-size: 13px;
      margin-bottom: 16px;
    }
    .detail-title {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 12px;
    }
    .rating {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 20px;
    }
    .stars {
      color: #facc15;
      font-size: 18px;
    }
    .detail-price {
      font-size: 36px;
      color: #06b6d4;
      font-weight: 800;
      margin-bottom: 24px;
    }

    .variants {
      margin-bottom: 24px;
    }
    .variants h3 {
      font-size: 14px;
      margin-bottom: 12px;
      color: #aaa;
    }
    .variant-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .variant-option {
      background: #111;
      border: 2px solid #1a1a1a;
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: .2s;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .variant-option:hover {
      border-color: #333;
    }
    .variant-option.active {
      border-color: #06b6d4;
      background: rgba(6, 182, 212, 0.1);
    }
    .variant-option.disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .variant-label {
      display: flex;
      flex-direction: column;
    }
    .variant-name {
      font-weight: 600;
      font-size: 16px;
    }
    .variant-desc {
      font-size: 13px;
      color: #777;
    }
    .variant-price {
      font-size: 18px;
      font-weight: 700;
      color: #06b6d4;
    }
    .variant-status {
      font-size: 12px;
      color: #dc2626;
      font-weight: 600;
    }

    .quantity-selector {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }
    .quantity-btn {
      background: #111;
      color: #fff;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    .quantity-input {
      background: #111;
      border: 1px solid #1a1a1a;
      color: #fff;
      width: 60px;
      height: 36px;
      text-align: center;
      border-radius: 8px;
      font-weight: 600;
    }

    .coupon-section {
      margin-bottom: 24px;
    }
    .coupon-section h3 {
      font-size: 14px;
      margin-bottom: 8px;
      color: #aaa;
    }
    .coupon-input {
      display: flex;
      gap: 8px;
    }
    .coupon-input input {
      flex: 1;
      background: #111;
      border: 1px solid #1a1a1a;
      color: #fff;
      padding: 10px 16px;
      border-radius: 8px;
      outline: none;
    }

    .add-to-cart-btn {
      width: 100%;
      background: #06b6d4;
      color: #fff;
      padding: 16px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
    }
    .add-to-cart-btn:hover {
      background: #0891b2;
    }
    .add-to-cart-btn:disabled {
      background: #333;
      cursor: not-allowed;
    }

    /* FEATURES LIST */
    .features-section {
      background: #050505;
      padding: 40px;
      border-top: 1px solid #1a1a1a;
    }
    .features-section h2 {
      font-size: 24px;
      margin-bottom: 20px;
    }
    .feature-category {
      margin-bottom: 32px;
    }
    .feature-category h3 {
      font-size: 18px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .feature-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      font-size: 14px;
    }
    .feature-item .check {
      color: #22c55e;
      margin-top: 2px;
    }
    .feature-item strong {
      color: #fff;
    }
    .feature-item span {
      color: #999;
    }

    /* CART SIDEBAR */
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -100%;
      width: 100%;
      max-width: 450px;
      height: 100%;
      background: #0a0a0a;
      border-left: 1px solid #1a1a1a;
      z-index: 200;
      transition: .3s;
      display: flex;
      flex-direction: column;
    }
    .cart-sidebar.active {
      right: 0;
    }
    .cart-header {
      padding: 20px;
      border-bottom: 1px solid #1a1a1a;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .cart-header h2 {
      font-size: 20px;
    }
    .cart-close {
      background: #111;
      color: #fff;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
    }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }
    .cart-empty {
      text-align: center;
      padding: 60px 20px;
      color: #666;
    }
    .cart-item {
      background: #111;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      display: flex;
      gap: 12px;
    }
    .cart-item-img {
      width: 80px;
      height: 80px;
      border-radius: 8px;
      object-fit: cover;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .cart-item-variant {
      font-size: 13px;
      color: #777;
      margin-bottom: 8px;
    }
    .cart-item-price {
      color: #06b6d4;
      font-weight: 700;
    }
    .cart-item-remove {
      background: #dc2626;
      color: #fff;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      margin-top: 8px;
      display: inline-block;
    }

    .cart-footer {
      border-top: 1px solid #1a1a1a;
      padding: 20px;
    }
    .cart-total {
      display: flex;
      justify-content: space-between;
      margin-bottom: 16px;
      font-size: 18px;
      font-weight: 700;
    }
    .cart-total-price {
      color: #06b6d4;
    }
    .checkout-btn {
      width: 100%;
      background: #06b6d4;
      color: #fff;
      padding: 16px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
    }

    /* CHECKOUT MODAL */
    .checkout-section {
      padding: 40px;
    }
    .checkout-section h2 {
      font-size: 28px;
      margin-bottom: 24px;
    }
    .order-summary {
      background: #111;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
    }
    .summary-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid #1a1a1a;
    }
    .summary-item:last-child {
      border: none;
      font-size: 18px;
      font-weight: 700;
      margin-top: 8px;
    }
    .qris-section {
      text-align: center;
      margin-top: 32px;
    }
    .qris-section h3 {
      margin-bottom: 16px;
    }
    .qris-code {
      width: 300px;
      height: 300px;
      margin: 0 auto 16px;
      background: #fff;
      border-radius: 12px;
      padding: 20px;
    }
    .qris-code img {
      width: 100%;
      height: 100%;
    }
    .payment-instructions {
      background: #111;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      text-align: left;
    }
    .payment-instructions h4 {
      margin-bottom: 12px;
    }
    .payment-instructions ol {
      margin-left: 20px;
      color: #aaa;
    }
    .payment-instructions li {
      margin-bottom: 8px;
    }
    .upload-proof {
      margin-top: 24px;
      text-align: center;
    }
    .upload-proof h4 {
      margin-bottom: 12px;
    }
    .file-upload-wrapper {
      position: relative;
      display: inline-block;
      margin-bottom: 16px;
    }
    .file-upload-input {
      display: none;
    }
    .file-upload-btn {
      background: #111;
      border: 2px dashed #1a1a1a;
      color: #fff;
      padding: 40px 60px;
      border-radius: 12px;
      cursor: pointer;
      transition: .2s;
      display: inline-block;
    }
    .file-upload-btn:hover {
      border-color: #06b6d4;
    }
    .file-preview {
      max-width: 300px;
      margin: 16px auto;
      border-radius: 12px;
      overflow: hidden;
      display: none;
    }
    .file-preview img {
      width: 100%;
      height: auto;
    }
    .submit-payment-btn {
      background: #06b6d4;
      color: #fff;
      padding: 16px 32px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      margin-top: 16px;
    }
    .submit-payment-btn:disabled {
      background: #333;
      cursor: not-allowed;
    }

    /* ALERT */
    .alert {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #111;
      border: 1px solid #1a1a1a;
      border-radius: 12px;
      padding: 16px 20px;
      z-index: 300;
      display: none;
      min-width: 300px;
    }
    .alert.show {
      display: block;
      animation: slideIn 0.3s;
    }
    .alert-success {
      border-color: #22c55e;
    }
    .alert-error {
      border-color: #dc2626;
    }
    .alert-warning {
      border-color: #fbbf24;
    }
    @keyframes slideIn {
      from {
        transform: translateX(400px);
      }
      to {
        transform: translateX(0);
      }
    }

    /* FOOTER */
    footer {
      border-top: 1px solid #111;
      padding: 40px 0;
      margin-top: 80px;
      text-align: center;
      color: #777;
      font-size: 13px;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 900px) {
      .features { grid-template-columns: repeat(2,1fr); }
      .products-grid { grid-template-columns: 1fr; }
      .product-detail { grid-template-columns: 1fr; }
      .feature-list { grid-template-columns: 1fr; }
      .hero-content { grid-template-columns: 1fr; gap: 40px; }
      .hero-text h1 { font-size: 40px; }
      .hero-banner { padding: 40px 30px; }
      .banner-title { font-size: 36px; }
      .banner-image { display: none; }
      .why-choose-grid { grid-template-columns: 1fr; }
      .search-bar { max-width: 200px; }
      .nav { gap: 12px; }
      .dashboard-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>

<header>
  <div class="container header-inner">
    <div class="logo" onclick="goToHome()">üéÆ MARGA2HIGH</div>
    <div class="nav">
      <div class="search-bar">
        <span>üîç</span>
        <input type="text" id="searchInput" placeholder="Search products...">
      </div>
      <a href="#">Terms</a>
      <a href="#">Reviews</a>
      
      <!-- Not Logged In -->
      <div id="navGuest">
        <div class="cart-icon" onclick="toggleCart()">
          üõí
          <span class="cart-badge" id="cartBadge">0</span>
        </div>
        <button class="btn btn-cyan" onclick="openAuthModal('login')">Login</button>
      </div>

      <!-- Logged In -->
      <div id="navUser" class="hidden">
        <div class="cart-icon" onclick="toggleCart()">
          üõí
          <span class="cart-badge" id="cartBadgeUser">0</span>
        </div>
        <div class="user-menu">
          <div class="user-avatar" onclick="toggleUserMenu()" id="userAvatar">U</div>
          <div class="user-dropdown" id="userDropdown">
            <div class="user-dropdown-item" onclick="goToDashboard()">
              üìä Dashboard
            </div>
            <div class="user-dropdown-item" id="adminMenuItem" style="display:none;" onclick="goToAdmin()">
              ‚öôÔ∏è Admin Panel
            </div>
            <div class="user-dropdown-item" onclick="logout()">
              üö™ Logout
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Main Content -->
<div id="mainContent">
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <div class="trust-badge">
            <small style="color:#dc2626;font-weight:600;">‚úî Trusted by <strong>1200+</strong> customers</small>
          </div>
          <h1>MARGA2HIGH</h1>
          <p>Premium products, clean design, and a checkout that just works.</p>
          <div class="hero-buttons">
            <button class="btn btn-red">Shop Best Sellers</button>
            <button class="btn btn-dark">Join Discord</button>
          </div>
          <p style="color:#facc15;font-size:14px;">‚≠ê 4.97 / 5 average rating</p>
        </div>

        <div class="hero-banner">
          <div class="banner-content">
            <div class="banner-tag">
              üéÆ MARGA2HIGH - Your #1 Provider
            </div>
            <h2 class="banner-title">
              Market Leading<br>
              Software <span>Provider</span>
            </h2>
            <p class="banner-subtitle">
              Your #1 trusted cheat provider, offering high-quality, reliable products for amazing prices with top-notch customer support.
            </p>
          </div>
          <div class="banner-image">
            <img src="https://images.unsplash.com/photo-1578632767115-351597cf2477?w=400&h=400&fit=crop" alt="Tanjiro" style="filter: hue-rotate(340deg) saturate(1.5) brightness(1.1);">
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container features">
    <div class="feature">
      <h3>‚ö° Instant Delivery</h3>
      <p>No waiting time</p>
    </div>
    <div class="feature">
      <h3>üîí Secure Checkout</h3>
      <p>256-bit encryption</p>
    </div>
    <div class="feature">
      <h3>‚úÖ 100% Success Rate</h3>
      <p>Works as promised</p>
    </div>
    <div class="feature">
      <h3>üõ° Top-rated Support</h3>
      <p>We've got your back</p>
    </div>
  </section>

  <!-- Products Section -->
  <section class="products container">
    <h2 style="text-align:center;margin-bottom:12px;">Best Seller Products</h2>
    <p style="text-align:center;color:#777;margin-bottom:40px;">Products loved by our customers</p>

    <div class="products-grid" id="productsGrid">
      <!-- Products will be rendered here by JavaScript -->
    </div>
  </section>

  <!-- Why Choose Section -->
  <section class="why-choose">
    <div class="container">
      <div class="why-choose-header">
        <h2>Why Choose Marga2high?</h2>
        <p>Premium products, secure checkout, and instant fulfillment.</p>
      </div>

      <div class="why-choose-grid">
        <div class="why-card">
          <div class="why-icon">üéß</div>
          <h3>24/7 ‚Ä¢ 365 Support</h3>
          <p>Real humans on standby-any time. Get fast help for installs, updates, and troubleshooting.</p>
          <div class="why-tags">
            <span class="why-tag">Live help</span>
            <span class="why-tag">Quick response</span>
          </div>
        </div>

        <div class="why-card">
          <div class="why-icon">üõ°Ô∏è</div>
          <h3>Safety & Quality</h3>
          <p>Secure checkout, undetected builds, and rigorous QA so you get stable, high-performing tools.</p>
          <div class="why-tags">
            <span class="why-tag">Secure checkout</span>
            <span class="why-tag">Undetected builds</span>
          </div>
        </div>

        <div class="why-card">
          <div class="why-icon">‚ö°</div>
          <h3>Instant Delivery</h3>
          <p>Immediate access after payment. Download and start using within seconds.</p>
          <div class="why-tags">
            <span class="why-tag">Instant Access</span>
            <span class="why-tag">No delays</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq">
    <div class="container">
      <div class="faq-header">
        <h2>Frequently Asked Questions</h2>
        <p>Find quick answers about payments, delivery, safety and more.</p>
      </div>

      <div class="faq-container">
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üí≥</div>
            <div class="faq-question-text">Can I make payments using my preferred method?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Yes! We accept various payment methods including QRIS (GoPay, OVO, Dana, ShopeePay), bank transfer, and e-wallet. Simply choose your preferred method at checkout.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üîí</div>
            <div class="faq-question-text">Is it safe to make payments?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Absolutely! We use secure payment gateways and encrypted connections. Your payment information is never stored on our servers. All transactions are protected by industry-standard security measures.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üõí</div>
            <div class="faq-question-text">How do I make a purchase?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Simply browse our products, select your desired item and duration, add to cart, proceed to checkout, and complete payment. You'll receive your license key instantly in your dashboard after payment confirmation.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üõ°Ô∏è</div>
            <div class="faq-question-text">Is the product undetected?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Yes! All our products are regularly tested and updated to remain undetected. We have a dedicated QA team that ensures stability and security with every game update.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üì±</div>
            <div class="faq-question-text">Does it support Android or iPhone?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Product compatibility varies by game. PUBG Mobile products support Android devices. PC games like Valorant and CS2 require Windows 10/11. Check individual product descriptions for specific system requirements.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üí∞</div>
            <div class="faq-question-text">Can I pay via PayPal?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Currently, we primarily accept payments via QRIS and Indonesian payment methods. For alternative payment options, please contact our support team on Discord.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <div class="faq-icon">üîÑ</div>
            <div class="faq-question-text">What is the return policy for purchases?</div>
            <div class="faq-toggle">‚ñº</div>
          </div>
          <div class="faq-answer">
            <div class="faq-answer-content">
              Due to the nature of digital products, we generally do not offer refunds once a license key is issued. However, if you experience technical issues, our support team will assist you. Contact us within 24 hours of purchase for support.
            </div>
          </div>
        </div>

        <div class="faq-cta">
          <p>Still have questions?</p>
          <a href="https://discord.gg/BTF7craz" target="_blank">
            <span>üí¨</span>
            <span>Join our Discord for support</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Dashboard -->
<div id="dashboardContent" class="hidden">
  <section class="dashboard container">
    <div class="dashboard-header">
      <div>
        <h1 class="dashboard-title">My Orders</h1>
        <p style="color:#777;">Manage your purchases and licenses</p>
      </div>
    </div>
    <div class="dashboard-grid" id="ordersGrid">
      <!-- Orders will be rendered here -->
    </div>
  </section>
</div>

<!-- Admin Panel -->
<div id="adminContent" class="hidden">
  <section class="admin-panel container">
    <div class="admin-header">
      <div>
        <h1 class="admin-title">‚öôÔ∏è Admin Panel</h1>
        <p style="color:#777;">Manage payment approvals and orders</p>
      </div>
      <button class="btn btn-dark" onclick="goToHome()">‚Üê Back to Home</button>
    </div>

    <!-- Stats Cards -->
    <div class="admin-stats">
      <div class="stat-card">
        <div class="stat-value total" id="statTotal">0</div>
        <div class="stat-label">Total Orders</div>
      </div>
      <div class="stat-card">
        <div class="stat-value waiting" id="statWaiting">0</div>
        <div class="stat-label">Pending</div>
      </div>
      <div class="stat-card">
        <div class="stat-value done" id="statDone">0</div>
        <div class="stat-label">Approved</div>
      </div>
      <div class="stat-card">
        <div class="stat-value declined" id="statDeclined">0</div>
        <div class="stat-label">Declined</div>
      </div>
    </div>

    <!-- Filter -->
    <div class="admin-filter">
      <button class="filter-btn active" onclick="filterAdminOrders('all')">All Orders</button>
      <button class="filter-btn" onclick="filterAdminOrders('waiting')">‚è≥ Pending</button>
      <button class="filter-btn" onclick="filterAdminOrders('done')">‚úÖ Approved</button>
      <button class="filter-btn" onclick="filterAdminOrders('declined')">‚ùå Declined</button>
    </div>

    <!-- Orders Grid -->
    <div class="admin-orders-grid" id="adminOrdersGrid">
      <!-- Orders will be rendered here -->
    </div>
  </section>
</div>

<!-- Auth Modal -->
<div class="modal" id="authModal">
  <div class="modal-close" onclick="closeAuthModal()">√ó</div>
  <div class="auth-modal-content">
    <!-- Login Form -->
    <div id="loginForm">
      <h2 class="auth-title">Welcome Back</h2>
      <p class="auth-subtitle">Login to your account</p>
      <form onsubmit="handleLogin(event)">
        <div class="form-group">
          <label class="form-label">Username</label>
          <input type="text" class="form-input" id="loginUsername" required>
        </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" class="form-input" id="loginPassword" required>
        </div>
        <button type="submit" class="btn btn-cyan form-btn">Login</button>
      </form>
      <div class="auth-switch">
        Don't have an account? <a onclick="switchToRegister()">Register</a>
      </div>
    </div>

    <!-- Register Form -->
    <div id="registerForm" class="hidden">
      <h2 class="auth-title">Create Account</h2>
      <p class="auth-subtitle">Join MARGA2HIGH today</p>
      <form onsubmit="handleRegister(event)">
        <div class="form-group">
          <label class="form-label">Email</label>
          <input type="email" class="form-input" id="registerEmail" required>
        </div>
        <div class="form-group">
          <label class="form-label">Username</label>
          <input type="text" class="form-input" id="registerUsername" required>
        </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" class="form-input" id="registerPassword" required>
        </div>
        <button type="submit" class="btn btn-cyan form-btn">Register</button>
      </form>
      <div class="auth-switch">
        Already have an account? <a onclick="switchToLogin()">Login</a>
      </div>
    </div>
  </div>
</div>

<!-- Product Detail Modal -->
<div class="modal" id="productModal">
  <div class="modal-close" onclick="closeProductModal()">√ó</div>
  <div class="modal-content">
    <div class="product-detail">
      <div class="showcase">
        <div class="showcase-main">
          <img id="showcaseMainImg" src="" alt="">
        </div>
        <div class="showcase-thumbs" id="showcaseThumbs">
          <!-- Thumbnails will be inserted here -->
        </div>
      </div>

      <div class="detail-info">
        <div class="breadcrumb">Home / Product / <span id="breadcrumbProduct"></span></div>
        <h1 class="detail-title" id="detailTitle"></h1>
        <div class="rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
          <span style="color:#777;">(4.97 / 5)</span>
        </div>
        <div class="detail-price" id="detailPrice"></div>

        <div class="variants">
          <h3>Variants:</h3>
          <div class="variant-options" id="variantOptions">
            <!-- Variants will be inserted here -->
          </div>
        </div>

        <div class="quantity-selector">
          <span style="color:#aaa;font-size:14px;">Quantity:</span>
          <button class="quantity-btn" onclick="decreaseQuantity()">‚àí</button>
          <input type="number" class="quantity-input" id="quantityInput" value="1" min="1" readonly>
          <button class="quantity-btn" onclick="increaseQuantity()">+</button>
        </div>

        <div class="coupon-section">
          <h3>Coupon:</h3>
          <div class="coupon-input">
            <input type="text" placeholder="Enter Coupon Code" id="couponInput">
            <button class="btn btn-dark">Apply</button>
          </div>
        </div>

        <button class="add-to-cart-btn" onclick="addToCart()">Add to Cart</button>
        <p style="text-align:center;color:#777;font-size:13px;">üîí Secure Checkout ‚Ä¢ ‚ö° Instant Delivery</p>
      </div>
    </div>

    <!-- Features Section -->
    <div class="features-section">
      <h2>Description:</h2>
      <p style="color:#aaa;margin-bottom:32px;" id="productDescription"></p>

      <div class="feature-category">
        <h3>üî¥ Key Benefits</h3>
        <div class="feature-list" id="keyBenefits">
          <!-- Features will be inserted here -->
        </div>
      </div>

      <div class="feature-category">
        <h3>üéØ AIMBOT FEATURES</h3>
        <div class="feature-list" id="aimbotFeatures">
          <!-- Features will be inserted here -->
        </div>
      </div>

      <div class="feature-category">
        <h3>üëÅ VISUAL FEATURES (ESP)</h3>
        <div class="feature-list" id="visualFeatures">
          <!-- Features will be inserted here -->
        </div>
      </div>

      <div class="feature-category">
        <h3>üéÆ MISC</h3>
        <div class="feature-list" id="miscFeatures">
          <!-- Features will be inserted here -->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cart Sidebar -->
<div class="cart-sidebar" id="cartSidebar">
  <div class="cart-header">
    <h2>Shopping Cart</h2>
    <div class="cart-close" onclick="toggleCart()">√ó</div>
  </div>
  <div class="cart-items" id="cartItems">
    <div class="cart-empty">
      <p style="font-size:48px;margin-bottom:16px;">üõí</p>
      <p>Your cart is empty</p>
    </div>
  </div>
  <div class="cart-footer" id="cartFooter" style="display:none;">
    <div class="cart-total">
      <span>Total:</span>
      <span class="cart-total-price" id="cartTotal">Rp0</span>
    </div>
    <button class="checkout-btn" onclick="proceedToCheckout()">Proceed to Checkout</button>
  </div>
</div>

<!-- Checkout Modal -->
<div class="modal" id="checkoutModal">
  <div class="modal-close" onclick="closeCheckoutModal()">√ó</div>
  <div class="modal-content">
    <div class="checkout-section">
      <h2>Checkout</h2>
      
      <div class="order-summary">
        <h3 style="margin-bottom:16px;">Order Summary</h3>
        <div id="checkoutItems"></div>
        <div class="summary-item">
          <span>Subtotal:</span>
          <span id="checkoutSubtotal">Rp0</span>
        </div>
        <div class="summary-item">
          <span>Total:</span>
          <span style="color:#06b6d4;" id="checkoutTotal">Rp0</span>
        </div>
      </div>

      <div class="qris-section">
        <h3>Scan QRIS to Pay</h3>
        <div class="qris-code">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=00020101021226670016COM.NOBUBANK.WWW01189360050300000898740214545400010303UMI51440014ID.CO.QRIS.WWW0215ID10200984856150303UMI5204481253033605802ID5912MARGA2HIGH6007JAKARTA61051234062070703A016304" alt="QRIS Code">
        </div>
        <p style="color:#aaa;">Scan menggunakan aplikasi e-wallet atau mobile banking Anda</p>

        <div class="upload-proof">
          <h4>Upload Bukti Transfer</h4>
          <p style="color:#777;font-size:14px;margin-bottom:16px;">Upload screenshot bukti pembayaran Anda</p>
          
          <div class="file-upload-wrapper">
            <input type="file" id="paymentProof" class="file-upload-input" accept="image/*" onchange="handleFileUpload(event)">
            <label for="paymentProof" class="file-upload-btn">
              üì∑ Click to Upload<br>
              <span style="font-size:12px;color:#666;">PNG, JPG up to 5MB</span>
            </label>
          </div>

          <div class="file-preview" id="filePreview">
            <img id="previewImage" src="" alt="Preview">
          </div>

          <button class="submit-payment-btn" id="submitPaymentBtn" onclick="submitPayment()" disabled>
            Submit Payment Proof
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Alert -->
<div class="alert" id="alert">
  <div id="alertMessage"></div>
</div>

<footer>
  <div class="container">
    <strong>üéÆ MARGA2HIGH</strong><br>
    ¬© 2024 MARGA2HIGH.TOOL<br>
    <small>For educational purposes only</small>
  </div>
</footer>

<script>
  // ==================== CONFIGURATION ====================
  const DISCORD_WEBHOOK_URL = 'YOUR_DISCORD_WEBHOOK_URL_HERE'; // Ganti dengan webhook Discord Anda

  // ==================== GLOBAL STATE ====================
  let currentUser = null;
  let cart = [];
  let currentProduct = null;
  let selectedVariant = null;
  let uploadedFile = null;
  let currentOrderId = null;

  // ==================== PRODUCTS DATABASE ====================
  const products = [
    {
      id: 1,
      name: 'Valorant Internal',
      basePrice: 150000,
      images: [
        'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800',
        'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?w=800',
        'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800'
      ],
      description: 'Precision, performance, and complete control. Jinx Internal delivers pro-level aimbot and ESP features while staying fully undetected, and secure. Built for legit play or full rage, optimized for maximum FPS.',
      variants: [
        { name: '1 Day Valorant Internal', duration: '1 Day', price: 150000, desc: '[1 Day License To Valorant Internal]', available: true },
        { name: '3 Days Valorant Internal', duration: '3 Days', price: 350000, desc: '[3 Days License To Valorant Internal]', available: true },
        { name: '1 Week Valorant Internal', duration: '7 Days', price: 650000, desc: '[7 Days License To Valorant Internal]', available: true },
        { name: '1 Month Valorant Internal', duration: '30 Days', price: 1800000, desc: '[31 Day License To Valorant Internal]', available: true },
        { name: 'Lifetime Valorant Internal', duration: 'Lifetime', price: 6500000, desc: '[Lifetime License To Valorant Internal]', available: false }
      ],
      features: {
        keyBenefits: [
          { icon: '‚úÖ', text: 'Undetected & Stable', desc: 'Battle-tested every update.' },
          { icon: 'üîß', text: 'Windows 10 & 11(23H2) Compatible', desc: 'Support most Windows builds.' },
          { icon: 'üîÑ', text: 'Self-Service HWID Reset', desc: 'HWID reset quickly.' },
          { icon: '‚ö°', text: 'Instant Delivery', desc: 'License key activation in seconds.' }
        ],
        aimbotFeatures: [
          { icon: '‚úÖ', text: 'Enable/Disable Aimbot', desc: 'Quick on/off toggle.' },
          { icon: 'üëÅ', text: 'Visible Check', desc: 'Only targets seen opponents.' },
          { icon: 'üéØ', text: 'Recoil Control', desc: 'Helps stabilize aim.' },
          { icon: 'ü¶¥', text: 'Aimbone Select', desc: 'Choose target bone (e.g., head/chest).' },
          { icon: 'üìê', text: 'Draw FOV', desc: 'Display the aim radius on screen.' },
          { icon: 'üéØ', text: 'Smooth', desc: 'Adjust tracking smoothness.' },
          { icon: 'üëÄ', text: 'FOV', desc: 'Set the targeting field of view.' }
        ],
        visualFeatures: [
          { icon: 'üíÄ', text: 'Skeleton', desc: 'Overlay player bone structure.' },
          { icon: 'üìè', text: 'Snapline', desc: 'Line from you to enemy.' },
          { icon: 'üì¶', text: 'Headbox', desc: 'Highlight head hitbox.' },
          { icon: '‚ù§Ô∏è', text: 'Healthbar', desc: 'Show current HP.' },
          { icon: 'üìè', text: 'Distance', desc: 'Display range to target.' },
          { icon: 'üé≠', text: 'Agent', desc: 'Show character/agent name.' },
          { icon: 'üî´', text: 'Weapon', desc: 'Show equipped weapon.' },
          { icon: 'üë•', text: 'Enemy Chams', desc: 'Colored models for visibility.' },
          { icon: 'üëÅ', text: 'Visible Check', desc: 'Only render when visible.' }
        ],
        miscFeatures: [
          { icon: 'üîì', text: 'Unlock All', desc: 'Access all skins.' },
          { icon: 'üê∞', text: 'BHOP', desc: 'Auto bunny-hop movement.' },
          { icon: 'üëÄ', text: 'FOV Changer', desc: 'Changed fov value.' },
          { icon: 'üéì', text: 'Skip Tutorial', desc: 'Skip first time tutorial.' }
        ]
      }
    },
    {
      id: 2,
      name: 'PUBG Mobile Premium',
      basePrice: 100000,
      images: [
        'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800',
        'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=800'
      ],
      description: 'Dominate the battlefield with advanced ESP, aimbot, and recoil control features. Optimized for mobile gaming performance.',
      variants: [
        { name: '1 Day PUBG Mobile', duration: '1 Day', price: 100000, desc: '[1 Day License To PUBG Mobile]', available: true },
        { name: '3 Days PUBG Mobile', duration: '3 Days', price: 250000, desc: '[3 Days License To PUBG Mobile]', available: true },
        { name: '1 Week PUBG Mobile', duration: '7 Days', price: 450000, desc: '[7 Days License To PUBG Mobile]', available: true },
        { name: '1 Month PUBG Mobile', duration: '30 Days', price: 1200000, desc: '[31 Day License To PUBG Mobile]', available: true }
      ],
      features: {
        keyBenefits: [
          { icon: '‚úÖ', text: 'Undetected', desc: 'Safe from anti-cheat.' },
          { icon: 'üì±', text: 'Android Compatible', desc: 'Works on most devices.' },
          { icon: '‚ö°', text: 'Fast Updates', desc: 'Quick patch support.' },
          { icon: 'üîÑ', text: 'Easy Installation', desc: 'Simple setup process.' }
        ],
        aimbotFeatures: [
          { icon: 'üéØ', text: 'Auto Aim', desc: 'Automatic targeting.' },
          { icon: 'üí•', text: 'No Recoil', desc: 'Zero weapon recoil.' },
          { icon: 'üî´', text: 'Rapid Fire', desc: 'Increased fire rate.' },
          { icon: 'üëÅ', text: 'Lock Target', desc: 'Stay on target.' }
        ],
        visualFeatures: [
          { icon: 'üì¶', text: 'Box ESP', desc: 'Box around players.' },
          { icon: '‚ù§Ô∏è', text: 'Health ESP', desc: 'Show enemy health.' },
          { icon: 'üìè', text: 'Distance ESP', desc: 'Display distance.' },
          { icon: 'üéí', text: 'Item ESP', desc: 'See items through walls.' },
          { icon: 'üöó', text: 'Vehicle ESP', desc: 'Locate vehicles.' }
        ],
        miscFeatures: [
          { icon: 'üèÉ', text: 'Speed Hack', desc: 'Move faster.' },
          { icon: 'ü¶ò', text: 'Jump Hack', desc: 'Higher jumps.' },
          { icon: 'üåà', text: 'Skin Changer', desc: 'Change weapon skins.' }
        ]
      }
    },
    {
      id: 3,
      name: 'CS2 External',
      basePrice: 200000,
      images: [
        'https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=800',
        'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?w=800'
      ],
      description: 'Professional-grade external cheat for CS2. Features advanced triggerbot, ESP, and radar hack with smooth performance.',
      variants: [
        { name: '1 Day CS2 External', duration: '1 Day', price: 200000, desc: '[1 Day License To CS2 External]', available: true },
        { name: '3 Days CS2 External', duration: '3 Days', price: 450000, desc: '[3 Days License To CS2 External]', available: true },
        { name: '1 Week CS2 External', duration: '7 Days', price: 800000, desc: '[7 Days License To CS2 External]', available: true },
        { name: '1 Month CS2 External', duration: '30 Days', price: 2200000, desc: '[31 Day License To CS2 External]', available: true }
      ],
      features: {
        keyBenefits: [
          { icon: '‚úÖ', text: 'External & Safe', desc: 'Lower detection risk.' },
          { icon: 'üîß', text: 'Windows 10 & 11', desc: 'Full compatibility.' },
          { icon: '‚ö°', text: 'Low CPU Usage', desc: 'Minimal performance impact.' },
          { icon: 'üîÑ', text: 'Auto Updates', desc: 'Always current.' }
        ],
        aimbotFeatures: [
          { icon: 'üéØ', text: 'Triggerbot', desc: 'Auto-fire when on target.' },
          { icon: 'üéØ', text: 'Smooth Aim', desc: 'Natural-looking aim.' },
          { icon: 'üí•', text: 'Recoil Compensation', desc: 'Control spray pattern.' },
          { icon: 'üëÅ', text: 'Visibility Check', desc: 'Only visible targets.' }
        ],
        visualFeatures: [
          { icon: 'üì¶', text: 'Player ESP', desc: 'See all players.' },
          { icon: 'üíÄ', text: 'Skeleton ESP', desc: 'Bone overlay.' },
          { icon: '‚ù§Ô∏è', text: 'Health Bar', desc: 'HP display.' },
          { icon: 'üî´', text: 'Weapon ESP', desc: 'Show weapons.' },
          { icon: 'üí£', text: 'Bomb ESP', desc: 'Locate C4.' },
          { icon: 'üó∫', text: 'Radar Hack', desc: 'Full map awareness.' }
        ],
        miscFeatures: [
          { icon: 'üåà', text: 'Skin Changer', desc: 'Custom skins.' },
          { icon: 'üé®', text: 'Chams', desc: 'Colored players.' },
          { icon: 'üîä', text: 'Sound ESP', desc: 'Audio indicators.' }
        ]
      }
    }
  ];

  // ==================== INITIALIZATION ====================
  document.addEventListener('DOMContentLoaded', () => {
    checkAuth();
    renderProducts();
  });

  // ==================== AUTH FUNCTIONS ====================
  function checkAuth() {
    const user = localStorage.getItem('currentUser');
    if (user) {
      currentUser = JSON.parse(user);
      updateUIForLoggedIn();
    }
  }

  function updateUIForLoggedIn() {
    document.getElementById('navGuest').classList.add('hidden');
    document.getElementById('navUser').classList.remove('hidden');
    document.getElementById('userAvatar').textContent = currentUser.username.charAt(0).toUpperCase();
    
    // Show admin menu item if user is admin
    if (currentUser.username === 'User' || currentUser.username === 'admin') {
      document.getElementById('adminMenuItem').style.display = 'block';
    }
    
    updateCartUI();
  }

  function updateUIForGuest() {
    document.getElementById('navGuest').classList.remove('hidden');
    document.getElementById('navUser').classList.add('hidden');
    updateCartUI();
  }

  function openAuthModal(type) {
    if (type === 'login') {
      document.getElementById('loginForm').classList.remove('hidden');
      document.getElementById('registerForm').classList.add('hidden');
    } else {
      document.getElementById('loginForm').classList.add('hidden');
      document.getElementById('registerForm').classList.remove('hidden');
    }
    document.getElementById('authModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeAuthModal() {
    document.getElementById('authModal').classList.remove('active');
    document.body.style.overflow = '';
  }

  function switchToLogin() {
    document.getElementById('loginForm').classList.remove('hidden');
    document.getElementById('registerForm').classList.add('hidden');
  }

  function switchToRegister() {
    document.getElementById('loginForm').classList.add('hidden');
    document.getElementById('registerForm').classList.remove('hidden');
  }

  function handleRegister(e) {
    e.preventDefault();
    const email = document.getElementById('registerEmail').value;
    const username = document.getElementById('registerUsername').value;
    const password = document.getElementById('registerPassword').value;

    // Get existing users
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    
    // Check if username exists
    if (users.find(u => u.username === username)) {
      showAlert('Username already exists', 'error');
      return;
    }

    // Create new user
    const newUser = {
      id: Date.now(),
      email,
      username,
      password,
      createdAt: new Date().toISOString()
    };

    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));

    showAlert('Registration successful! Please login.', 'success');
    switchToLogin();
  }

  function handleLogin(e) {
    e.preventDefault();
    const username = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.username === username && u.password === password);

    if (user) {
      currentUser = user;
      localStorage.setItem('currentUser', JSON.stringify(user));
      updateUIForLoggedIn();
      closeAuthModal();
      showAlert('Login successful!', 'success');
    } else {
      showAlert('Invalid username or password', 'error');
    }
  }

  function logout() {
    currentUser = null;
    localStorage.removeItem('currentUser');
    updateUIForGuest();
    goToHome();
    showAlert('Logged out successfully', 'success');
  }

  function toggleUserMenu() {
    document.getElementById('userDropdown').classList.toggle('active');
  }

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.user-menu')) {
      document.getElementById('userDropdown').classList.remove('active');
    }
  });

  // ==================== NAVIGATION ====================
  function goToHome() {
    document.getElementById('mainContent').classList.remove('hidden');
    document.getElementById('dashboardContent').classList.add('hidden');
    document.getElementById('adminContent').classList.add('hidden');
    window.scrollTo(0, 0);
  }

  function goToDashboard() {
    if (!currentUser) {
      openAuthModal('login');
      return;
    }
    document.getElementById('mainContent').classList.add('hidden');
    document.getElementById('dashboardContent').classList.remove('hidden');
    document.getElementById('adminContent').classList.add('hidden');
    renderOrders();
    window.scrollTo(0, 0);
  }

  function goToAdmin() {
    if (!currentUser) {
      openAuthModal('login');
      return;
    }
    
    // Check if user is admin
    if (currentUser.username !== 'User' && currentUser.username !== 'admin') {
      showAlert('Access denied. Admin only.', 'error');
      return;
    }
    
    document.getElementById('mainContent').classList.add('hidden');
    document.getElementById('dashboardContent').classList.add('hidden');
    document.getElementById('adminContent').classList.remove('hidden');
    renderAdminPanel();
    window.scrollTo(0, 0);
  }

  // ==================== PRODUCTS ====================
  function renderProducts(searchQuery = '') {
    const grid = document.getElementById('productsGrid');
    const filtered = products.filter(p => 
      p.name.toLowerCase().includes(searchQuery.toLowerCase())
    );

    grid.innerHTML = filtered.map(product => `
      <div class="product" onclick="openProductModal(${product.id})">
        <img src="${product.images[0]}" alt="${product.name}">
        <div class="product-body">
          <h4>${product.name}</h4>
          <div class="price">Rp${product.basePrice.toLocaleString('id-ID')}</div>
        </div>
      </div>
    `).join('');

    if (filtered.length === 0) {
      grid.innerHTML = '<p style="text-align:center;color:#666;grid-column:1/-1;">No products found</p>';
    }
  }

  document.getElementById('searchInput').addEventListener('input', (e) => {
    renderProducts(e.target.value);
  });

  function openProductModal(productId) {
    currentProduct = products.find(p => p.id === productId);
    if (!currentProduct) return;

    selectedVariant = currentProduct.variants[0];

    document.getElementById('showcaseMainImg').src = currentProduct.images[0];
    document.getElementById('breadcrumbProduct').textContent = currentProduct.name;
    document.getElementById('detailTitle').textContent = currentProduct.name;
    document.getElementById('detailPrice').textContent = `Rp${currentProduct.basePrice.toLocaleString('id-ID')}`;
    document.getElementById('productDescription').textContent = currentProduct.description;

    const thumbsContainer = document.getElementById('showcaseThumbs');
    thumbsContainer.innerHTML = currentProduct.images.map((img, idx) => `
      <div class="showcase-thumb ${idx === 0 ? 'active' : ''}" onclick="changeShowcaseImage(${idx})">
        <img src="${img}" alt="">
      </div>
    `).join('');

    const variantsContainer = document.getElementById('variantOptions');
    variantsContainer.innerHTML = currentProduct.variants.map((variant, idx) => `
      <div class="variant-option ${idx === 0 ? 'active' : ''} ${!variant.available ? 'disabled' : ''}" 
           onclick="selectVariant(${idx})">
        <div class="variant-label">
          <div class="variant-name">${variant.name}</div>
          <div class="variant-desc">${variant.desc}</div>
        </div>
        <div>
          <div class="variant-price">Rp${variant.price.toLocaleString('id-ID')}</div>
          ${!variant.available ? '<div class="variant-status">not now</div>' : ''}
        </div>
      </div>
    `).join('');

    renderFeatures('keyBenefits', currentProduct.features.keyBenefits);
    renderFeatures('aimbotFeatures', currentProduct.features.aimbotFeatures);
    renderFeatures('visualFeatures', currentProduct.features.visualFeatures);
    renderFeatures('miscFeatures', currentProduct.features.miscFeatures);

    document.getElementById('quantityInput').value = 1;
    document.getElementById('productModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeProductModal() {
    document.getElementById('productModal').classList.remove('active');
    document.body.style.overflow = '';
  }

  function changeShowcaseImage(index) {
    document.getElementById('showcaseMainImg').src = currentProduct.images[index];
    document.querySelectorAll('.showcase-thumb').forEach((thumb, idx) => {
      thumb.classList.toggle('active', idx === index);
    });
  }

  function selectVariant(index) {
    const variant = currentProduct.variants[index];
    if (!variant.available) return;

    selectedVariant = variant;
    document.getElementById('detailPrice').textContent = `Rp${variant.price.toLocaleString('id-ID')}`;

    document.querySelectorAll('.variant-option').forEach((opt, idx) => {
      opt.classList.toggle('active', idx === index);
    });
  }

  function renderFeatures(containerId, features) {
    const container = document.getElementById(containerId);
    container.innerHTML = features.map(feature => `
      <div class="feature-item">
        <span class="check">${feature.icon}</span>
        <div>
          <strong>${feature.text}</strong>
          <span> ‚Äî ${feature.desc}</span>
        </div>
      </div>
    `).join('');
  }

  function decreaseQuantity() {
    const input = document.getElementById('quantityInput');
    if (input.value > 1) {
      input.value = parseInt(input.value) - 1;
    }
  }

  function increaseQuantity() {
    const input = document.getElementById('quantityInput');
    input.value = parseInt(input.value) + 1;
  }

  // ==================== CART ====================
  function addToCart() {
    if (!selectedVariant || !selectedVariant.available) {
      showAlert('Please select an available variant', 'warning');
      return;
    }

    const quantity = parseInt(document.getElementById('quantityInput').value);
    
    const cartItem = {
      productId: currentProduct.id,
      productName: currentProduct.name,
      variantName: selectedVariant.name,
      price: selectedVariant.price,
      quantity: quantity,
      image: currentProduct.images[0]
    };

    const existingIndex = cart.findIndex(item => 
      item.productId === cartItem.productId && item.variantName === cartItem.variantName
    );

    if (existingIndex > -1) {
      cart[existingIndex].quantity += quantity;
    } else {
      cart.push(cartItem);
    }

    updateCartUI();
    closeProductModal();
    toggleCart();
    showAlert('Added to cart!', 'success');
  }

  function toggleCart() {
    const sidebar = document.getElementById('cartSidebar');
    sidebar.classList.toggle('active');
    if (sidebar.classList.contains('active')) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
  }

  function updateCartUI() {
    const badge = document.getElementById('cartBadge');
    const badgeUser = document.getElementById('cartBadgeUser');
    const itemsContainer = document.getElementById('cartItems');
    const footer = document.getElementById('cartFooter');

    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    badge.textContent = totalItems;
    badgeUser.textContent = totalItems;

    if (cart.length === 0) {
      itemsContainer.innerHTML = `
        <div class="cart-empty">
          <p style="font-size:48px;margin-bottom:16px;">üõí</p>
          <p>Your cart is empty</p>
        </div>
      `;
      footer.style.display = 'none';
    } else {
      itemsContainer.innerHTML = cart.map((item, idx) => `
        <div class="cart-item">
          <img src="${item.image}" alt="${item.productName}" class="cart-item-img">
          <div class="cart-item-info">
            <div class="cart-item-title">${item.productName}</div>
            <div class="cart-item-variant">${item.variantName}</div>
            <div class="cart-item-price">Rp${item.price.toLocaleString('id-ID')} x ${item.quantity}</div>
            <button class="cart-item-remove" onclick="removeFromCart(${idx})">Remove</button>
          </div>
        </div>
      `).join('');

      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('cartTotal').textContent = `Rp${total.toLocaleString('id-ID')}`;
      footer.style.display = 'block';
    }
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    updateCartUI();
  }

  // ==================== CHECKOUT ====================
  function proceedToCheckout() {
    if (!currentUser) {
      toggleCart();
      showAlert('Please login to checkout', 'warning');
      openAuthModal('login');
      return;
    }

    if (cart.length === 0) return;

    const checkoutItems = document.getElementById('checkoutItems');
    checkoutItems.innerHTML = cart.map(item => `
      <div class="summary-item">
        <span>${item.productName} - ${item.variantName} (x${item.quantity})</span>
        <span>Rp${(item.price * item.quantity).toLocaleString('id-ID')}</span>
      </div>
    `).join('');

    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    document.getElementById('checkoutSubtotal').textContent = `Rp${total.toLocaleString('id-ID')}`;
    document.getElementById('checkoutTotal').textContent = `Rp${total.toLocaleString('id-ID')}`;

    // Reset payment proof
    uploadedFile = null;
    document.getElementById('paymentProof').value = '';
    document.getElementById('filePreview').style.display = 'none';
    document.getElementById('submitPaymentBtn').disabled = true;

    toggleCart();
    document.getElementById('checkoutModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeCheckoutModal() {
    document.getElementById('checkoutModal').classList.remove('active');
    document.body.style.overflow = '';
  }

  function handleFileUpload(event) {
    const file = event.target.files[0];
    if (!file) return;

    if (file.size > 5 * 1024 * 1024) {
      showAlert('File size must be less than 5MB', 'error');
      return;
    }

    uploadedFile = file;
    
    const reader = new FileReader();
    reader.onload = (e) => {
      document.getElementById('previewImage').src = e.target.result;
      document.getElementById('filePreview').style.display = 'block';
      document.getElementById('submitPaymentBtn').disabled = false;
    };
    reader.readAsDataURL(file);
  }

  async function submitPayment() {
    if (!uploadedFile) {
      showAlert('Please upload payment proof', 'warning');
      return;
    }

    const submitBtn = document.getElementById('submitPaymentBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Submitting...';

    try {
      // Create order
      const orderId = 'ORD-' + Date.now();
      currentOrderId = orderId;
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

      const order = {
        id: orderId,
        userId: currentUser.id,
        username: currentUser.username,
        email: currentUser.email,
        items: [...cart],
        total: total,
        status: 'waiting',
        createdAt: new Date().toISOString(),
        license: null
      };

      // Save order
      let orders = JSON.parse(localStorage.getItem('orders') || '[]');
      orders.push(order);
      localStorage.setItem('orders', JSON.stringify(orders));

      // Convert image to base64
      const reader = new FileReader();
      reader.onload = async () => {
        const base64Image = reader.result;

        // Save payment proof to order
        order.paymentProof = base64Image;
        
        // Update order in storage
        const orderIndex = orders.findIndex(o => o.id === orderId);
        if (orderIndex > -1) {
          orders[orderIndex] = order;
          localStorage.setItem('orders', JSON.stringify(orders));
        }

        // Send to Discord webhook
        await sendToDiscord(order, base64Image);

        // Clear cart
        cart = [];
        updateCartUI();
        closeCheckoutModal();
        
        showAlert('Payment proof submitted! Waiting for approval...', 'success');
        goToDashboard();
      };
      reader.readAsDataURL(uploadedFile);

    } catch (error) {
      console.error('Error submitting payment:', error);
      showAlert('Failed to submit payment. Please try again.', 'error');
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit Payment Proof';
    }
  }

  async function sendToDiscord(order, imageBase64) {
    const itemsList = order.items.map(item => 
      `${item.productName} - ${item.variantName} (x${item.quantity}) - Rp${(item.price * item.quantity).toLocaleString('id-ID')}`
    ).join('\n');

    const embed = {
      title: 'üí≥ New Payment Submission',
      color: 0x06b6d4,
      fields: [
        {
          name: 'üìã Order ID',
          value: order.id,
          inline: true
        },
        {
          name: 'üë§ Customer',
          value: order.username,
          inline: true
        },
        {
          name: 'üìß Email',
          value: order.email,
          inline: true
        },
        {
          name: 'üõí Items',
          value: itemsList
        },
        {
          name: 'üí∞ Total',
          value: `Rp${order.total.toLocaleString('id-ID')}`,
          inline: true
        },
        {
          name: 'üìÖ Date',
          value: new Date(order.createdAt).toLocaleString('id-ID'),
          inline: true
        }
      ],
      image: {
        url: 'attachment://payment_proof.png'
      },
      footer: {
        text: 'React with üëç to approve or üëé to decline'
      },
      timestamp: new Date().toISOString()
    };

    // Convert base64 to blob
    const blob = await fetch(imageBase64).then(r => r.blob());
    
    const formData = new FormData();
    formData.append('payload_json', JSON.stringify({
      embeds: [embed],
      content: `@here New payment submission from **${order.username}**\n\nOrder ID: \`${order.id}\``
    }));
    formData.append('file', blob, 'payment_proof.png');

    // Send to webhook
    if (DISCORD_WEBHOOK_URL && DISCORD_WEBHOOK_URL !== 'YOUR_DISCORD_WEBHOOK_URL_HERE') {
      try {
        await fetch(DISCORD_WEBHOOK_URL, {
          method: 'POST',
          body: formData
        });
      } catch (error) {
        console.error('Discord webhook error:', error);
      }
    } else {
      console.log('Discord webhook not configured. Order saved locally.');
      console.log('Order details:', order);
    }
  }

  // ==================== ORDERS/DASHBOARD ====================
  function renderOrders() {
    if (!currentUser) return;

    const orders = JSON.parse(localStorage.getItem('orders') || '[]');
    const userOrders = orders.filter(o => o.userId === currentUser.id);
    const grid = document.getElementById('ordersGrid');

    if (userOrders.length === 0) {
      grid.innerHTML = `
        <div style="grid-column:1/-1;text-align:center;padding:60px 20px;">
          <p style="font-size:48px;margin-bottom:16px;">üì¶</p>
          <p style="color:#666;">No orders yet</p>
          <button class="btn btn-cyan" style="margin-top:24px;" onclick="goToHome()">Start Shopping</button>
        </div>
      `;
      return;
    }

    grid.innerHTML = userOrders.reverse().map(order => `
      <div class="order-card">
        <div class="order-header">
          <div>
            <div class="order-id">Order #${order.id}</div>
            <div class="order-product">${order.items[0].productName}</div>
            <div class="order-variant">${order.items[0].variantName}</div>
          </div>
          <div class="order-status status-${order.status}">
            ${order.status === 'waiting' ? '‚è≥ Waiting' : order.status === 'done' ? '‚úÖ Done' : '‚ùå Declined'}
          </div>
        </div>
        
        <div class="order-price">Rp${order.total.toLocaleString('id-ID')}</div>
        
        ${order.items.length > 1 ? `<p style="color:#777;font-size:14px;">+${order.items.length - 1} more items</p>` : ''}
        
        ${order.status === 'done' && order.license ? `
          <div class="order-license">
            <div class="license-label">License Key:</div>
            <div style="color:#06b6d4;word-break:break-all;">${order.license}</div>
            <button class="copy-btn" onclick="copyLicense('${order.license}')">üìã Copy License</button>
          </div>
        ` : ''}
        
        ${order.status === 'waiting' ? `
          <p style="color:#fbbf24;font-size:13px;margin-top:12px;">‚è≥ Waiting for owner approval...</p>
        ` : ''}
        
        ${order.status === 'declined' ? `
          <p style="color:#dc2626;font-size:13px;margin-top:12px;">‚ùå Payment declined. Please contact support.</p>
        ` : ''}
        
        <p style="color:#666;font-size:12px;margin-top:12px;">${new Date(order.createdAt).toLocaleString('id-ID')}</p>
      </div>
    `).join('');
  }

  function copyLicense(license) {
    navigator.clipboard.writeText(license);
    showAlert('License copied to clipboard!', 'success');
  }

  // ==================== DISCORD BOT INTEGRATION ====================
  // Functions untuk Discord Bot
  window.approveOrder = function(orderId, license) {
    let orders = JSON.parse(localStorage.getItem('orders') || '[]');
    const orderIndex = orders.findIndex(o => o.id === orderId);
    
    if (orderIndex > -1) {
      orders[orderIndex].status = 'done';
      orders[orderIndex].license = license;
      orders[orderIndex].approvedAt = new Date().toISOString();
      localStorage.setItem('orders', JSON.stringify(orders));
      
      console.log('‚úÖ Order approved:', orderId);
      console.log('üîë License:', license);
      
      if (currentUser && currentUser.id === orders[orderIndex].userId) {
        renderOrders();
        showAlert('Order approved successfully!', 'success');
      }
      
      return { success: true, order: orders[orderIndex] };
    }
    
    console.error('‚ùå Order not found:', orderId);
    return { success: false, error: 'Order not found' };
  };

  window.declineOrder = function(orderId) {
    let orders = JSON.parse(localStorage.getItem('orders') || '[]');
    const orderIndex = orders.findIndex(o => o.id === orderId);
    
    if (orderIndex > -1) {
      orders[orderIndex].status = 'declined';
      orders[orderIndex].declinedAt = new Date().toISOString();
      localStorage.setItem('orders', JSON.stringify(orders));
      
      console.log('‚ùå Order declined:', orderId);
      
      if (currentUser && currentUser.id === orders[orderIndex].userId) {
        renderOrders();
        showAlert('Order declined', 'error');
      }
      
      return { success: true, order: orders[orderIndex] };
    }
    
    console.error('‚ùå Order not found:', orderId);
    return { success: false, error: 'Order not found' };
  };

  // API Endpoint untuk Discord Bot (jika pakai backend)
  window.addEventListener('message', (event) => {
    // Security: Validate origin
    if (event.origin !== window.location.origin) return;
    
    const { type, orderId, license } = event.data;
    
    if (type === 'APPROVE_ORDER') {
      approveOrder(orderId, license);
    } else if (type === 'DECLINE_ORDER') {
      declineOrder(orderId);
    }
  });

  // ==================== ALERTS ====================
  function showAlert(message, type = 'success') {
    const alert = document.getElementById('alert');
    const alertMessage = document.getElementById('alertMessage');
    
    alert.className = `alert alert-${type} show`;
    alertMessage.textContent = message;
    
    setTimeout(() => {
      alert.classList.remove('show');
    }, 4000);
  }

  // ==================== ADMIN PANEL ====================
  let adminFilter = 'all';

  function renderAdminPanel() {
    const orders = JSON.parse(localStorage.getItem('orders') || '[]');
    
    // Update stats
    const stats = {
      total: orders.length,
      waiting: orders.filter(o => o.status === 'waiting').length,
      done: orders.filter(o => o.status === 'done').length,
      declined: orders.filter(o => o.status === 'declined').length
    };
    
    document.getElementById('statTotal').textContent = stats.total;
    document.getElementById('statWaiting').textContent = stats.waiting;
    document.getElementById('statDone').textContent = stats.done;
    document.getElementById('statDeclined').textContent = stats.declined;
    
    // Filter orders
    let filteredOrders = orders;
    if (adminFilter !== 'all') {
      filteredOrders = orders.filter(o => o.status === adminFilter);
    }
    
    // Sort by date (newest first)
    filteredOrders.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
    
    const grid = document.getElementById('adminOrdersGrid');
    
    if (filteredOrders.length === 0) {
      grid.innerHTML = `
        <div style="text-align:center;padding:60px;color:#666;">
          <p style="font-size:48px;margin-bottom:16px;">üì¶</p>
          <p>No ${adminFilter === 'all' ? '' : adminFilter} orders found</p>
        </div>
      `;
      return;
    }
    
    grid.innerHTML = filteredOrders.map(order => {
      const proofImage = order.paymentProof || '';
      
      return `
        <div class="admin-order-card ${order.status}">
          <div class="admin-order-info">
            <h3>
              <span style="color:#dc2626;">Order #${order.id}</span>
              ${order.status === 'waiting' ? '<span style="color:#fbbf24;font-size:14px;">‚è≥ Pending</span>' : ''}
              ${order.status === 'done' ? '<span style="color:#22c55e;font-size:14px;">‚úÖ Approved</span>' : ''}
              ${order.status === 'declined' ? '<span style="color:#dc2626;font-size:14px;">‚ùå Declined</span>' : ''}
            </h3>
            
            <div class="admin-order-detail">
              <span>üë§</span>
              <strong>${order.username}</strong>
            </div>
            
            <div class="admin-order-detail">
              <span>üìß</span>
              ${order.email}
            </div>
            
            <div class="admin-order-detail">
              <span>üõí</span>
              <strong>${order.items[0].productName}</strong> - ${order.items[0].variantName}
            </div>
            
            <div class="admin-order-detail">
              <span>üí∞</span>
              <strong>Rp${order.total.toLocaleString('id-ID')}</strong>
            </div>
            
            <div class="admin-order-detail">
              <span>üìÖ</span>
              ${new Date(order.createdAt).toLocaleString('id-ID')}
            </div>
            
            ${order.license ? `
              <div class="admin-order-detail" style="margin-top:12px;">
                <span>üîë</span>
                <code style="background:#111;padding:4px 8px;border-radius:4px;font-size:12px;">${order.license}</code>
              </div>
            ` : ''}
          </div>
          
          <div class="payment-proof">
            ${proofImage ? `
              <img src="${proofImage}" alt="Payment Proof" onclick="viewImageFullscreen('${proofImage}')">
            ` : `
              <div class="proof-placeholder">
                <p>No payment proof uploaded</p>
              </div>
            `}
          </div>
          
          <div class="admin-actions">
            ${order.status === 'waiting' ? `
              <input 
                type="text" 
                class="license-input" 
                id="license-${order.id}" 
                placeholder="Enter license key (e.g., VALO-2024-ABCD-1234)"
                value=""
              >
              <button class="admin-btn admin-btn-approve" onclick="adminApprove('${order.id}')">
                ‚úÖ Approve & Send License
              </button>
              <button class="admin-btn admin-btn-decline" onclick="adminDecline('${order.id}')">
                ‚ùå Decline Payment
              </button>
            ` : order.status === 'done' ? `
              <div style="padding:20px;text-align:center;color:#22c55e;">
                <p style="font-size:24px;margin-bottom:8px;">‚úÖ</p>
                <p style="font-weight:600;">Approved</p>
              </div>
            ` : `
              <div style="padding:20px;text-align:center;color:#dc2626;">
                <p style="font-size:24px;margin-bottom:8px;">‚ùå</p>
                <p style="font-weight:600;">Declined</p>
              </div>
            `}
            
            ${proofImage ? `
              <button class="admin-btn admin-btn-view" onclick="viewImageFullscreen('${proofImage}')">
                üîç View Full Image
              </button>
            ` : ''}
          </div>
        </div>
      `;
    }).join('');
  }

  function filterAdminOrders(filter) {
    adminFilter = filter;
    
    // Update active filter button
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    renderAdminPanel();
  }

  function adminApprove(orderId) {
    const licenseInput = document.getElementById(`license-${orderId}`);
    const license = licenseInput.value.trim();
    
    if (!license) {
      showAlert('Please enter a license key', 'warning');
      licenseInput.focus();
      return;
    }
    
    if (confirm(`Approve order ${orderId} with license key:\n${license}`)) {
      approveOrder(orderId, license);
      showAlert('Order approved successfully!', 'success');
      renderAdminPanel();
    }
  }

  function adminDecline(orderId) {
    if (confirm(`Are you sure you want to decline order ${orderId}?\n\nThe customer will be notified that their payment was declined.`)) {
      declineOrder(orderId);
      showAlert('Order declined', 'error');
      renderAdminPanel();
    }
  }

  function viewImageFullscreen(imageUrl) {
    window.open(imageUrl, '_blank');
  }

  // ==================== FAQ TOGGLE ====================
  function toggleFAQ(element) {
    const faqItem = element.parentElement;
    const wasActive = faqItem.classList.contains('active');
    
    // Close all FAQ items
    document.querySelectorAll('.faq-item').forEach(item => {
      item.classList.remove('active');
    });
    
    // Open clicked item if it wasn't active
    if (!wasActive) {
      faqItem.classList.add('active');
    }
  }

  // ==================== UTILITIES ====================
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeProductModal();
      closeCheckoutModal();
      closeAuthModal();
      if (document.getElementById('cartSidebar').classList.contains('active')) {
        toggleCart();
      }
    }
  });
</script>

</body>
</html>
